<!doctype html>

<html lang="en">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500&display=swap" rel="stylesheet">

  <script>
    // const express = require('express');
    // const app = express();
    var xhr = new XMLHttpRequest();
    function togglePower(index){
      xhr.open("GET", `robotJoin?id=robot${index+1}`, true);
      xhr.setRequestHeader('Content-Type', 'application/json');
      xhr.send(JSON.stringify({
        value: "17"
      }));
    }
    function togglePic(index) {
      let image = document.getElementsByClassName("robotHead")[index].getElementsByTagName("img")[0];
      if(image.src == "http://localhost:3000/Images/happy.png"){
        image.setAttribute("src", "http://localhost:3000/Images/dead.png");
        xhr.open("GET", `userExpress?id=robot${index+1}&expression=dead`, true);
        xhr.setRequestHeader('Content-Type', 'application/json');
        xhr.send(JSON.stringify({
          value: "17"
        }));
      }
      else if(image.src == "http://localhost:3000/Images/dead.png"){
        image.setAttribute("src", "http://localhost:3000/Images/happy.png");
        xhr.open("GET", `userExpress?id=robot${index+1}&expression=happy`, true);
        xhr.setRequestHeader('Content-Type', 'application/json');
        xhr.send(JSON.stringify({
          value: "17"
        }));
      }

    //   fetch("/robotJoin", {
    //     method: "POST",
    //     body: JSON.stringify({
    //     name: "Deska",
    //     email: "deska@gmail.com",
    //     phone: "342234553"
    //     })
    // }).then(result => {
    //     console.log("DONE");
    //   })
      // var x = document.getElementById("bot1");
      // console.log(x.alt);
      // if(x.alt == "1"){
      //   x.src = "Images/Robo1/Walk.png";
      //   x.alt = "2";
      // }
      // else if(x.alt == "2"){
      //   x.src = "Images/Robo1/Hop.png";
      //   x.alt = "3";
      // }
      // else{
      //   x.src = "Images/Robo1/Stop.png";
      //   x.alt = "1"
      // }
      // console.log(x.alt);
    }
  </script>  
  <link rel="stylesheet" href="styles.css">
<head>
  <meta charset="utf-8">
  <title>DanceBot Control Center</title>
</head>

<body style="background-color:#EAEAEA">
	<!-- <img id = "bot1" alt = "1" onclick="togglePic1()" src = "Images/Robo1/Stop.png" width = "256" height="256"> -->

  <div id="titleBar">
    <h1>
      Dancebot Control Center
    </h1>
  </div>
	<div id="container">
    <!-- Dancebots -->
		<p style="position:relative; top:0%; left:0%; margin:0;font-weight: bold;font-size:1.5vh">Dancebots:</p>
		<div id="dancebot1" class="dancebot">
			<div class="robotHead">
				<img src="Images/happy.png" onclick="togglePic(0)" alt="Default Head HERE">
      </div>
      <div class="flavorText">
        <button class="stateText">
          1. |    SOMETEXT    |
        </button>
        <button type="button" onclick="togglePower(0)">
          ON/OFF
        </button>
      </div>
    </div>
    <div id="dancebot2" class="dancebot">
			<div class="robotHead">
				<img src="Images/happy.png" onclick="togglePic(1)" alt="Default Head HERE">
      </div>
      <div class="flavorText">
        <button type="button" class="stateText">
          2. |    SOMETEXT    |
        </button>
        <button type="button" onclick="togglePower(1)">
          ON/OFF
        </button>
      </div>
    </div>
    <div id="dancebot3" class="dancebot">
			<div class="robotHead">
				<img src="Images/happy.png" onclick="togglePic(2)" alt="Default Head HERE">
      </div>
      <div class="flavorText">
        <button type="button" class="stateText">
          3. |    SOMETEXT    |
        </button>
        <button type="button" onclick="togglePower(2)">
          ON/OFF
        </button>
      </div>
    </div>
    <div id="dancebot4" class="dancebot">
			<div class="robotHead">
				<img src="Images/happy.png" onclick="togglePic(3)" alt="Default Head HERE">
      </div>
      <div class="flavorText">
        <button type="button" class="stateText">
          4. |    SOMETEXT    |
        </button>
        <button type="button" onclick="togglePower(3)">
          ON/OFF
        </button>
      </div>
    </div>

    <!-- Mothership -->
    <p style="position:relative; top:44%; left:0%; margin:0;font-weight: bold; font-size:1.5vh">Mothership:</p>
    <div id="mothership" class="dancebot">
        <div class="robotHead">
      <img src="Images/happy.png" alt="Default Head HERE">
        </div>
    </div>

    <!-- Swarm Commands -->
    <p style="position:relative; top:77%; left:0%; margin:0;font-weight: bold; font-size:1.5vh;">Swarm Commands:</p>
    <div class="swarmCommands">
      <button id="stopAll">
        Stop
      </button>
      <button id="resetAll">
        Reset
      </button>
      <button id="walkAll">
        Walk
      </button>
      <button id="hopAll">
        Hop
      </button>
    </div>
	</div>
</body>
</html>
